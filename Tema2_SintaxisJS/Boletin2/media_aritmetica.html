<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      // Parte 1
      function calculaMedia(array, decimales) {
        let media = 0;
        for (let i = 0; i < array.length; i++) {
          media += array[i];
        }
        media /= array.length;
        // No sé exactamente a que se refiere el ejercicio con 'si no se le suministra'
        // el segundo parametro, asi que hago esto:
        if (isNaN(decimales)) {
          return redondearDecimales(media, 1);
        }
        return redondearDecimales(media, decimales);
      }

      // Uso la función de ejemplo hecha en clase
      function redondearDecimales(numero, decimales) {
        return (Math.round(numero * Math.pow(10, decimales)) / Math.pow(10, decimales));
      }

      // Parte 2
      function testeo() {
        let datos = [
          {
            numeros: [5, 7, 10, 4, 12, 6, 25, 26, 72, 12, 1],
            decimales: 0,
            valorEsperado: 16,
          },
          {
            numeros: [5.5, 7.2, 10.12, 4.412, 12, 6, 25.543667, 26, 72.6346, 12, 1.12],
            decimales: 3,
            valorEsperado: 16.593,
          },
          {
            numeros: [Math.PI, 2, 10.6, 4.6, 12.6, 6.6, 25.6, 26.6, 72.6, 12.6, 1.6],
            decimales: 1,
            valorEsperado: 16.2,
          },
        ];

        let testSuperado = true;

        for (let i = 0; i < datos.length; i++) {
          if (calculaMedia(datos[i].numeros, datos[i].decimales) == datos[i].valorEsperado) {
            console.log(`CORRECTO ==> Para el ${i + 1}º array de numeros redondeado a ${datos[i].decimales} decimales ==> media devuelta ${calculaMedia(datos[i].numeros, datos[i].decimales)}`);
          } else {
            console.log(`FALLO ==> Para el ${i + 1}º array de numeros redondeado a ${datos[i].decimales} decimales ==> media devuelta ${calculaMedia(datos[i].numeros, datos[i].decimales)}`);
            testSuperado = false;
          }
        }
        console.log(testSuperado ? "Test superado":"No ha superado el test");
      }
      testeo();
    </script>
  </body>
</html>
